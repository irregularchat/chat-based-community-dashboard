#.env-template
# Customization
PAGE_TITLE = "Site Title"
FAVICON_URL = https://filedn.com/lDsr08WnANmQTUJg2h6Jg2Q/Logos/Irregular%20Chat-Tech.png
# config
BASE_DOMAIN =domain.tld
PORT = 8501

# Authentik
Authentik_API_URL = https://sso.domain.tld/api/v3
# Secrets
# See documentation for user and api token https://docs.goauthentik.io/developer-docs/api/reference/core-users-create 
AUTHENTIK_API_TOKEN = your_api_token_here
#The group id you want to add default users to be in. Select group and see id in url.
MAIN_GROUP_ID = GROUP_ID
# authentik flow id. Export flow to see the id. 
FLOW_ID = FLOW_ID_HERE 
# authentik flow id. Export flow to see the id.
INVITE_FLOW_ID = INVITE_FLOW_ID_HERE 
# The label for the invite flow
INVITE_LABEL = INVITE_LABEL_HERE 

LOGIN_REQUIRED = False

# Authentik OpenID Connect (OIDC) Configuration
# The client ID for your OIDC application in Authentik
OIDC_CLIENT_ID = community_dashboard
# The client secret for your OIDC application in Authentik
OIDC_CLIENT_SECRET = your_client_secret_here
# The OIDC authorization endpoint
OIDC_AUTHORIZATION_ENDPOINT = https://sso.domain.tld/application/o/authorize/
# The OIDC token endpoint
OIDC_TOKEN_ENDPOINT = https://sso.domain.tld/application/o/token/
# The OIDC userinfo endpoint
OIDC_USERINFO_ENDPOINT = https://sso.domain.tld/application/o/userinfo/
# The OIDC end session endpoint
OIDC_END_SESSION_ENDPOINT = https://sso.domain.tld/application/o/end-session/
# The OIDC scopes to request (comma-separated)
OIDC_SCOPES = openid,profile,email
# The OIDC redirect URI for your application
OIDC_REDIRECT_URI = https://dashboard.domain.tld/auth/callback

# Admin configuration
# Comma-separated list of usernames that should have admin privileges
# Default admin user is 'admin' with password 'shareme314'
# IMPORTANT: Change this password after first login for security
ADMIN_USERNAMES = admin,adminuser,admin1,admin2

# Default admin user credentials (used for first-time setup)
DEFAULT_ADMIN_USERNAME = admin
DEFAULT_ADMIN_PASSWORD = shareme314

# Local DB 
POSTGRES_PASSWORD = password_for_db
POSTGRES_USER = postgres
POSTGRES_DB = dashboarddb
# POSTGRES_PORT is used for external connections from the host machine
# In Docker, this is the external port mapping. Change this if 5436 conflicts with other services.
# Note: Inside Docker, PostgreSQL always uses port 5432 regardless of this setting.
POSTGRES_PORT = 5436 
# Internal Docker connection URL always uses port 5432
DATABASE_URL = postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}

# OPENAI API KEY used for gpt_call.py
OPENAI_ACTIVE = False
OPENAI_API_KEY = ""

# SMTP Email Server for sending emails
SMTP_ACTIVE = False
SMTP_SERVER = smtp.domain.com
SMTP_PORT = 587
SMTP_USER = username
SMTP_PASSWORD = password
SMTP_FROM = no-reply@domain.com
# The email address of the user who will be used to send the safety number change email
SMTP_BCC = email@domain.com

# DISCOURSE API FOR POSTING TO DISCOURSE
DISCOURSE_ACTIVE = False
DISCOURSE_URL = https://discourse.domain.com/
DISCOURSE_API_KEY = your_api_key_here
DISCOURSE_API_USERNAME = your_username_here
DISCOURSE_CATEGORY_ID = 8
DISCOURSE_INTRO_TAG = "introductions"

## MATRIX ACCESS TOKEN FOR POSTING TO MATRIX using matrix-python-sdk
MATRIX_ACTIVE = False
MATRIX_URL = https://matrix.domain.com/
MATRIX_ACCESS_TOKEN = your_access_token_here
# Matrix room IDs for posting to specific rooms (format: !roomid:domain.com)
MATRIX_DEFAULT_ROOM_ID = !defaultroomid:domain.com
# Define multiple rooms if needed
MATRIX_WELCOME_ROOM_ID = !welcomeroom:domain.com
# Signal bridge bot command room ID - where you send commands to the Signal bridge bot
# This is NOT where you chat with Signal users, but where you send bot commands like "start-chat @signal_user"
# The bot will respond with the actual chat room ID for each Signal user
# Format: !roomid:domain.com (get this from your Signal bridge bot logs)
# Leave empty if you don't use Signal bridge integration
MATRIX_SIGNAL_BRIDGE_ROOM_ID = !signalbridgeroom:domain.com

# Matrix bot/service account details
MATRIX_BOT_USERNAME = @botname:domain.com
MATRIX_BOT_DISPLAY_NAME = "Service Bot"

# Matrix cache configuration
# Minimum number of members a room must have to be synced (default: 5)
# Rooms with fewer members will be skipped during sync to improve performance
MATRIX_MIN_ROOM_MEMBERS = 5

MATRIX_MESSAGE_NOTICE="NOREPLY: This message was sent from the admin dashboard"

# ===========================================
# MODERN STACK CONFIGURATION (Next.js App)
# ===========================================

# Database seeding (set to true for initial setup)
SEED_DATABASE=true

# NextAuth.js Configuration
# Generate a random secret with: openssl rand -base64 32
NEXTAUTH_SECRET=your_nextauth_secret_here_generate_with_openssl_rand_base64_32
NEXTAUTH_URL=http://localhost:8503

# Enable local authentication for admin users
ENABLE_LOCAL_AUTH=true

# Modern Stack Authentication Configuration
AUTHENTIK_CLIENT_ID=community_dashboard
AUTHENTIK_CLIENT_SECRET=your_client_secret_here
AUTHENTIK_ISSUER=https://sso.domain.tld/application/o/community_dashboard
AUTHENTIK_REDIRECT_URI=http://localhost:8503/api/auth/callback/authentik

# Legacy Authentik API (used for user management)
AUTHENTIK_BASE_URL=${AUTHENTIK_API_URL}

# Modern Stack Email Configuration
SMTP_HOST=${SMTP_SERVER}
SMTP_PORT=${SMTP_PORT}
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASSWORD}
SMTP_FROM=${SMTP_FROM}
SMTP_BCC=${SMTP_BCC}

# Modern Stack Matrix Configuration
MATRIX_HOMESERVER=${MATRIX_URL}
MATRIX_USER_ID=${MATRIX_BOT_USERNAME}
MATRIX_DOMAIN=domain.com
MATRIX_ACTIVE=${MATRIX_ACTIVE}

# ROOM RECOMMENDATION CONFIGURATION - Flexible System
# This uses the new flexible room configuration system
# See docs/room-configuration.md for detailed setup instructions

# Step 1: Define Categories (CATEGORY_[UNIQUE_NAME] = Display Name|keyword1,keyword2,keyword3)
CATEGORY_TECHNOLOGY = Technology|tech,technology,programming,ai,ml,cybersecurity,software,hardware,rf,ew,electronic,drone,unmanned,fabrication,3d,printing
CATEGORY_INFORMATION = Information & Research|information,research,influence,warfare,iwar,psyop,analysis,intelligence,academic
CATEGORY_SOCIAL = Social & General|social,chat,discussion,general,offtopic,debate,spanish,language,modern,warfare,gaming
CATEGORY_PROFESSIONAL = Professional|business,career,work,finance,professional,certification,certs
CATEGORY_OUTDOOR = Outdoor & Recreation|outdoor,hiking,camping,nature,adventure,recreation,sports
CATEGORY_LOCATION = Location-Based|location,local,regional,geographic,area,community

# Step 2: Define Rooms (ROOM_[UNIQUE_ID] = Room Name|Category Name(s)|Description|Matrix Room ID)
# Technology Rooms
ROOM_TECH_GENERAL = General Tech Chat|Technology|General technology discussions and Q&A for all skill levels|!techchat:domain.com
ROOM_RF_DRAGON = RF/EW Chat|Technology|Electronic warfare, RF signals, SDR, and radio communications|!rfchat:domain.com
ROOM_AI_ML = AI ML Chat|Technology|Artificial intelligence, machine learning, and data science discussions|!aichat:domain.com
ROOM_UNMANNED = Unmanned Systems|Technology|Drone technology, robotics, and unmanned systems|!unmanned:domain.com
ROOM_COUNTER_UAS = Counter UAS|Technology|Counter-drone and counter-UAS technology and tactics|!counteruas:domain.com
ROOM_FABRICATION = Fabrication 3D Printing|Technology|3D printing, fabrication, and maker discussions|!fabrication:domain.com
ROOM_PURPLE_TEAM = Purple Teaming|Technology,Professional|Cybersecurity, red/blue/purple team operations and training|!purpleteam:domain.com
ROOM_CERTS = Certification Chat|Technology,Professional|Technology certifications, study groups, and career advancement|!certs:domain.com

# Information & Research Rooms
ROOM_IWAR = IWAR Chat|Information & Research|Information warfare, influence operations, and PSYOP discussions|!iwar:domain.com
ROOM_RESEARCH = Research Chat|Information & Research|Academic research, analysis, and intelligence studies|!research:domain.com

# Social & General Rooms
ROOM_OFFTOPIC = Off-Topic|Social & General|General conversations and off-topic discussions|!offtopic:domain.com
ROOM_DEBATE = Debate Group|Social & General|Structured debates and discussion on various topics|!debate:domain.com
ROOM_SPANISH = Spanish Chat|Social & General|Spanish language conversations and cultural discussions|!spanish:domain.com
ROOM_MODERN_WARFARE = Modern Warfare Chat|Social & General|Gaming discussions focused on Modern Warfare and similar games|!gaming:domain.com

# Professional Rooms  
ROOM_BUSINESS = Business Chat|Professional|Business discussions, entrepreneurship, and career advice|!business:domain.com

# Outdoor & Recreation Rooms
ROOM_OUTDOOR = Outdoor Group|Outdoor & Recreation|Hiking, camping, outdoor activities and adventures|!outdoor:domain.com

# Location-Based Rooms
ROOM_LOCAL_1 = Local Area 1|Location-Based|Local community for [Your Area]|!local1:domain.com
ROOM_LOCAL_2 = Local Area 2|Location-Based|Local community for [Your Area]|!local2:domain.com

# Step 3: Configure Behavior
ROOM_RECOMMENDATIONS_ENABLED = true
MAX_ROOM_RECOMMENDATIONS = 12
MIN_RECOMMENDATION_SCORE = 0.3

# Step 4: Add Keyword Expansions (Optional)
INTEREST_KEYWORD_EXPANSIONS = tech:technology,programming,coding,software|ai:artificial intelligence,machine learning,ml,data science|security:cybersecurity,infosec,pentest,red team,blue team|rf:radio frequency,electronic warfare,signals,sdr|drone:unmanned,uas,robotics,autonomous|outdoor:hiking,camping,nature,adventure,outdoors|business:career,professional,work,entrepreneurship|spanish:language,cultural,latin,hispanic
