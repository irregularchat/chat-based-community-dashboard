# Community Dashboard - Cloud Run Environment Configuration

# Application Configuration
NODE_ENV=production
PORT=8080
NEXTAUTH_URL=https://your-service-url.run.app
NEXTAUTH_SECRET=your-secure-nextauth-secret-from-secret-manager

# Database Configuration (Cloud SQL)
DATABASE_URL=postgresql://dashboard_user:password@/community_dashboard?host=/cloudsql/PROJECT_ID:us-central1:community-dashboard-db

# Cloud SQL Instance Connection
INSTANCE_CONNECTION_NAME=PROJECT_ID:us-central1:community-dashboard-db

# Database Seeding (set to false for production)
SEED_DATABASE=false
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=shareme314

# Authentication - Authentik OIDC
AUTHENTIK_CLIENT_ID=your-authentik-client-id
AUTHENTIK_CLIENT_SECRET=your-authentik-client-secret-from-secret-manager
AUTHENTIK_ISSUER=https://your-authentik-instance.com
AUTHENTIK_REDIRECT_URI=https://your-service-url.run.app/api/auth/callback/authentik

# Legacy Authentik API (for user management)
AUTHENTIK_API_TOKEN=your-authentik-api-token
AUTHENTIK_BASE_URL=https://your-authentik-instance.com
FLOW_ID=your-flow-id
INVITE_FLOW_ID=your-invite-flow-id
INVITE_LABEL=community-invitation
BASE_DOMAIN=your-domain.com

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-smtp-password-from-secret-manager
SMTP_FROM=Community Dashboard <your-email@gmail.com>
SMTP_BCC=admin@your-domain.com

# Matrix Configuration
MATRIX_HOMESERVER=https://matrix.org
MATRIX_ACCESS_TOKEN=your-matrix-access-token-from-secret-manager
MATRIX_USER_ID=@community-bot:matrix.org
MATRIX_DOMAIN=irregularchat.com
MATRIX_DEFAULT_ROOM_ID=!defaultroom:matrix.org
MATRIX_WELCOME_ROOM_ID=!welcomeroom:matrix.org
MATRIX_SIGNAL_BRIDGE_ROOM_ID=!signalbridge:matrix.org
MATRIX_SIGNAL_BOT_USERNAME=signal_bridge_bot
SIGNAL_BRIDGE_BOT_RESPONSE_DELAY=2000
SIGNAL_INDOC_LINK=https://signal.org/
MATRIX_INDOC_ROOM_ID=!indocroom:matrix.org
MATRIX_MIN_ROOM_MEMBERS=3
MATRIX_ACTIVE=true

# Local Authentication (enable for fallback)
ENABLE_LOCAL_AUTH=true

# Cloud Run Specific
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1

# Security Headers (Cloud Run automatically handles HTTPS)
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000

# Performance
PRISMA_QUERY_ENGINE_LIBRARY=true